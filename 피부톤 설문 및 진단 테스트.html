<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í”¼ë¶€ ì½”ë“œ ì§„ë‹¨ ì‹œìŠ¤í…œ</title>
  <style>
    :root {
      --primary-color: #8e44ad;
      --secondary-color: #9b59b6;
      --light-color: #f8f9fa;
      --dark-color: #343a40;
      --success-color: #2ecc71;
      --warning-color: #f39c12;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Noto Sans KR', sans-serif;
    }
    
    body {
      background-color: #f5f5f5;
      color: var(--dark-color);
      line-height: 1.6;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    h1 {
      color: var(--primary-color);
      margin-bottom: 10px;
    }
    
    h2 {
      color: var(--secondary-color);
      margin: 20px 0;
    }
    
    .card {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      padding: 20px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      font-weight: bold;
      margin-bottom: 10px;
    }
    
    .options {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    
    .option-label {
      display: block;
      font-size: 0.8rem;
      text-align: center;
      margin-top: 5px;
    }
    
    .radio-group {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    input[type="radio"] {
      margin-bottom: 5px;
    }
    
    button {
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 1rem;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
      display: block;
      margin: 30px auto;
      width: 200px;
    }
    
    button:hover {
      background-color: var(--secondary-color);
    }
    
    #result-container {
      display: none;
    }
    
    .beauty-code {
      font-size: 2rem;
      font-weight: bold;
      color: var(--primary-color);
      text-align: center;
      margin: 20px 0;
    }
    
    .type-name {
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: var(--secondary-color);
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    
    th {
      background-color: #f2f2f2;
    }
    
    .summary {
      background-color: #f2f2f2;
      padding: 15px;
      border-radius: 5px;
      margin: 20px 0;
    }
    
    .product-list {
      list-style-type: none;
      padding: 0;
    }
    
    .product-list li {
      margin-bottom: 15px;
    }
    
    .product-list a {
      color: var(--primary-color);
      text-decoration: none;
    }
    
    .product-list a:hover {
      text-decoration: underline;
    }
    
    .references {
      font-size: 0.85rem;
      margin-top: 30px;
    }
    
    .references h3 {
      margin-bottom: 10px;
    }
    
    .references ol {
      padding-left: 20px;
    }
    
    .references li {
      margin-bottom: 10px;
    }
    
    .progress-container {
      width: 100%;
      background-color: #f1f1f1;
      border-radius: 5px;
      margin: 10px 0;
    }
    
    .progress-bar {
      height: 10px;
      border-radius: 5px;
      background-color: var(--primary-color);
      width: 0%;
      transition: width 0.3s;
    }
    
    .print-btn {
      background-color: var(--success-color);
      margin-top: 20px;
    }
    
    .restart-btn {
      background-color: var(--warning-color);
    }

    @media print {
      .no-print {
        display: none;
      }
    }
    
    @media (max-width: 768px) {
      .options {
        flex-direction: column;
      }
      
      .radio-group {
        flex-direction: row;
        margin-bottom: 10px;
        width: 100%;
        justify-content: space-between;
      }
      
      .option-label {
        margin-left: 10px;
        text-align: left;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>í”¼ë¶€ ì½”ë“œ ì§„ë‹¨ ì‹œìŠ¤í…œ</h1>
      <p>ì•„ë˜ ì„¤ë¬¸ì— ì‘ë‹µí•˜ì—¬ ë‹¹ì‹ ë§Œì˜ ë·°í‹° ì½”ë“œë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!</p>
    </header>
    
    <div id="survey-container" class="card">
      <h2>í”¼ë¶€ ì„¤ë¬¸ì§€</h2>
      <div class="progress-container">
        <div id="progress-bar" class="progress-bar"></div>
      </div>
      <form id="skinSurvey">
        <div class="form-group">
          <label>1. ì„±ë³„</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="gender-female" name="gender" value="female" required>
              <span class="option-label">ì—¬ì„±</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="gender-male" name="gender" value="male">
              <span class="option-label">ë‚¨ì„±</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>2. ì—°ë ¹ëŒ€</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="age-teens" name="age" value="10s" required>
              <span class="option-label">10ëŒ€</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-20s" name="age" value="20s">
              <span class="option-label">20ëŒ€</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-30s" name="age" value="30s">
              <span class="option-label">30ëŒ€</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-40s" name="age" value="40s">
              <span class="option-label">40ëŒ€</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-50s" name="age" value="50s">
              <span class="option-label">50ëŒ€</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-60s" name="age" value="60s">
              <span class="option-label">60ëŒ€ ì´ìƒ</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>3. ìˆ˜ë¶„ ì„­ì·¨ëŸ‰</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="hydration-verylow" name="hydration" value="1" required>
              <span class="option-label">ë§¤ìš° ë¶€ì¡±</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-low" name="hydration" value="2">
              <span class="option-label">ë¶€ì¡±</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-medium" name="hydration" value="3">
              <span class="option-label">ë³´í†µ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-high" name="hydration" value="4">
              <span class="option-label">ì¶©ë¶„</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-veryhigh" name="hydration" value="5">
              <span class="option-label">ë§¤ìš° ì¶©ë¶„</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>4. ì„¸ì•ˆ í›„ ë‹¹ê¹€</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="tightness-none" name="tightness" value="1" required>
              <span class="option-label">ì „í˜€ ì—†ìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-little" name="tightness" value="2">
              <span class="option-label">ì•½ê°„ ìˆìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-medium" name="tightness" value="3">
              <span class="option-label">ë³´í†µ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-often" name="tightness" value="4">
              <span class="option-label">ìì£¼ ëŠê»´ì§</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-always" name="tightness" value="5">
              <span class="option-label">í•­ìƒ ë‹¹ê¹€</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>5. íŠ¸ëŸ¬ë¸” ë¹ˆë„</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="trouble-none" name="trouble" value="1" required>
              <span class="option-label">ì—†ìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-rarely" name="trouble" value="2">
              <span class="option-label">ê°€ë”</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-sometimes" name="trouble" value="3">
              <span class="option-label">ë³´í†µ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-often" name="trouble" value="4">
              <span class="option-label">ìì£¼</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-always" name="trouble" value="5">
              <span class="option-label">í•­ìƒ ìˆìŒ</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>6. í”¼ë¶€ ë¯¼ê°ë„</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="sensitivity-verylow" name="sensitivity" value="1" required>
              <span class="option-label">ë§¤ìš° ë‘”ê°</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-low" name="sensitivity" value="2">
              <span class="option-label">ì•½ê°„ ë‘”ê°</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-medium" name="sensitivity" value="3">
              <span class="option-label">ë³´í†µ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-high" name="sensitivity" value="4">
              <span class="option-label">ë¯¼ê°</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-veryhigh" name="sensitivity" value="5">
              <span class="option-label">ë§¤ìš° ë¯¼ê°</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>7. í”¼ì§€ ë¶„ë¹„ëŸ‰</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="sebum-verylow" name="sebum" value="1" required>
              <span class="option-label">ë§¤ìš° ì ìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-low" name="sebum" value="2">
              <span class="option-label">ì ìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-medium" name="sebum" value="3">
              <span class="option-label">ë³´í†µ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-high" name="sebum" value="4">
              <span class="option-label">ë§ìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-veryhigh" name="sebum" value="5">
              <span class="option-label">ë§¤ìš° ë§ìŒ</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>8. Tì¡´/Uì¡´ íŠ¹ì„±</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="zone-alldry" name="zone" value="1" required>
              <span class="option-label">ì „ì²´ ê±´ì„±</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-toily" name="zone" value="2">
              <span class="option-label">Tì¡´ë§Œ ì§€ì„±</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-uoily" name="zone" value="3">
              <span class="option-label">Uì¡´ë§Œ ì§€ì„±</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-alloily" name="zone" value="4">
              <span class="option-label">ì „ì²´ ì§€ì„±</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-mixed" name="zone" value="5">
              <span class="option-label">í˜¼í•©ì„±</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>9. í”¼ë¶€ í˜ˆìƒ‰/í†¤</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="tone-verybright" name="tone" value="1" required>
              <span class="option-label">ë§¤ìš° ë°ìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-bright" name="tone" value="2">
              <span class="option-label">ë°ìŒ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-medium" name="tone" value="3">
              <span class="option-label">ë³´í†µ</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-dark" name="tone" value="4">
              <span class="option-label">ì–´ë‘ì›€</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-verydark" name="tone" value="5">
              <span class="option-label">ë§¤ìš° ì–´ë‘ì›€</span>
            </div>
          </div>
        </div>
        
        <button type="submit" id="submit-btn">ê²°ê³¼ í™•ì¸í•˜ê¸°</button>
      </form>
    </div>
    
    <div id="result-container" class="card">
      <h2>ğŸ“Œ ë‹¹ì‹ ì˜ BEAUTY CODE: <span id="beauty-code"></span></h2>
      <p class="type-name">íƒ€ì… ì´ë¦„: <span id="type-name"></span></p>
      <p id="type-description"></p>
      
      <h3>ğŸ§¬ í”¼ë¶€ ë¶„ì„</h3>
      <table>
        <tr>
          <th>í•­ëª©</th>
          <th>ë¶„ì„ ê²°ê³¼</th>
        </tr>
        <tr>
          <td>ìˆ˜ë¶„ ìƒíƒœ</td>
          <td id="hydration-result"></td>
        </tr>
        <tr>
          <td>ë¯¼ê°ë„</td>
          <td id="sensitivity-result"></td>
        </tr>
        <tr>
          <td>íŠ¸ëŸ¬ë¸” ë¹ˆë„</td>
          <td id="trouble-result"></td>
        </tr>
        <tr>
          <td>í”¼ë¶€ í†¤/í˜ˆìƒ‰</td>
          <td id="tone-result"></td>
        </tr>
      </table>
      
      <div class="summary">
        <p>ğŸ’¡ ì´í‰: <span id="summary-text"></span></p>
      </div>
      
      <h3>ğŸ›ï¸ ì¶”ì²œ ìŠ¤í‚¨ì¼€ì–´ ì œí’ˆ</h3>
      <ul class="product-list" id="product-list">
        <!-- ì œí’ˆ ì¶”ì²œ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
      </ul>
      
      <div class="references">
        <h3>ğŸ“š ì°¸ê³  ë…¼ë¬¸ (ê³¼í•™ì  ê·¼ê±°)</h3>
        <ol id="reference-list">
          <li>Baumann, L. (2007). Cosmetic Dermatology: Principles and Practice. McGraw-Hill.</li>
          <li>Rawlings, A.V., & Harding, C.R. (2004). Moisturization and skin barrier function. Dermatologic Therapy.</li>
          <li>Fluhr, J.W. et al. (2008). Sensitive skin and barrier dysfunction. Contact Dermatitis.</li>
        </ol>
      </div>
      
      <div class="no-print">
        <button type="button" class="print-btn" id="print-btn">ê²°ê³¼ ì¸ì‡„í•˜ê¸°</button>
        <button type="button" class="restart-btn" id="restart-btn">ë‹¤ì‹œ ì§„ë‹¨í•˜ê¸°</button>
        <button type="button" id="share-btn" style="background-color: #3498db; margin-top: 10px;">ê²°ê³¼ URL ìƒì„±</button>
        <div id="url-container" style="margin-top: 15px; display: none;">
          <p>ì•„ë˜ URLì„ ë³µì‚¬í•˜ì—¬ ê³µìœ í•˜ì„¸ìš”:</p>
          <div style="display: flex; margin-top: 10px;">
            <input type="text" id="share-url" readonly style="flex-grow: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px 0 0 4px;">
            <button id="copy-url" style="background-color: #2ecc71; border-radius: 0 4px 4px 0; padding: 8px 15px;">ë³µì‚¬</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const surveyForm = document.getElementById('skinSurvey');
      const surveyContainer = document.getElementById('survey-container');
      const resultContainer = document.getElementById('result-container');
      const progressBar = document.getElementById('progress-bar');
      const printBtn = document.getElementById('print-btn');
      const restartBtn = document.getElementById('restart-btn');
      const shareBtn = document.getElementById('share-btn');
      const urlContainer = document.getElementById('url-container');
      const shareUrl = document.getElementById('share-url');
      const copyUrlBtn = document.getElementById('copy-url');
      
      // ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸ í•¨ìˆ˜
      function updateProgress() {
        const radioInputs = document.querySelectorAll('input[type="radio"]');
        const totalQuestions = 9; // ì„±ë³„, ì—°ë ¹ëŒ€, ìˆ˜ë¶„ ë“± 9ê°œ í•­ëª©
        const answeredQuestions = new Set();
        
        radioInputs.forEach(input => {
          if (input.checked) {
            // ì§ˆë¬¸ì˜ name ì†ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ë‹µí•œ ì§ˆë¬¸ ì¶”ì 
            answeredQuestions.add(input.name);
          }
        });
        
        const progress = (answeredQuestions.size / totalQuestions) * 100;
        progressBar.style.width = `${progress}%`;
      }
      
      // ë¼ë””ì˜¤ ë²„íŠ¼ ë³€ê²½ ì´ë²¤íŠ¸ì— ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
      const radioInputs = document.querySelectorAll('input[type="radio"]');
      radioInputs.forEach(input => {
        input.addEventListener('change', updateProgress);
      });
      
      // ë·°í‹° ì½”ë“œ ë§¤í•‘ ë°ì´í„°
      const beautyCodeMapping = {
        // ëŒ€í‘œì ì¸ ëª‡ ê°€ì§€ ì¡°í•©ì— ëŒ€í•œ ìƒì„¸ ì •ë³´
        'BSCT': {
          name: 'ë·°í‹° ì•„ì¿ ì•„',
          description: 'ìˆ˜ë¶„ ë§ê³  ë¯¼ê°í•˜ë©°, íŠ¸ëŸ¬ë¸”ì´ ì ê³  í”¼ë¶€ í†¤ì´ ë§‘ì€ í¸ì˜ í”¼ë¶€',
          summary: 'í”¼ë¶€ ì¥ë²½ì´ ì•½í•´ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë©°, ë³´ìŠµê³¼ ì§„ì • ìœ„ì£¼ì˜ ê´€ë¦¬ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.',
          products: [
            { name: 'í† ë„ˆ: ë¼ë¡œìŠˆí¬ì œ ì‹œì¹´í”Œë¼ìŠ¤íŠ¸ í† ë„ˆ', link: 'https://www.coupang.com/np/search?q=ë¼ë¡œìŠˆí¬ì œ+í† ë„ˆ' },
            { name: 'ìˆ˜ë”©í¬ë¦¼: ë‹¥í„°ì§€ ë ˆë“œ ë¸”ë ˆë¯¸ì‰¬ ìˆ˜ë”©í¬ë¦¼', link: 'https://smartstore.naver.com/search?q=ë ˆë“œë¸”ë ˆë¯¸ì‰¬+ìˆ˜ë”©í¬ë¦¼' },
            { name: 'ì•°í”Œ: ì•„ë¹„ë¸Œ ì„¸ë¼ë§ˆì´ë“œ ì•°í”Œ', link: 'https://www.coupang.com/np/search?q=ì•„ë¹„ë¸Œ+ì•°í”Œ' },
            { name: 'ë§ˆìŠ¤í¬íŒ©: ë”ë§ˆí† ë¦¬ í•˜ì´í¬ì•ŒëŸ¬ì œë‹‰ ë§ˆìŠ¤í¬', link: 'https://smartstore.naver.com/search?q=ë”ë§ˆí† ë¦¬+ë§ˆìŠ¤í¬íŒ©' }
          ],
          analysis: {
            hydration: 'ì¶©ë¶„í•œ ìˆ˜ë¶„ ë³´ìœ , ê±´ì¡°í•˜ì§€ ì•ŠìŒ',
            sensitivity: 'ìê·¹ì— ë¯¼ê°, ì™¸ë¶€ í™˜ê²½ ë³€í™”ì— ë°˜ì‘í•¨',
            trouble: 'íŠ¸ëŸ¬ë¸” ê±°ì˜ ì—†ìŒ, ì „ë°˜ì ìœ¼ë¡œ ê¹¨ë—í•œ í”¼ë¶€',
            tone: 'ë°ê³  íˆ¬ëª…í•œ í”¼ë¶€í†¤ì„ ê°€ì§'
          }
        },
        'DRCT': {
          name: 'í“¨ì–´ í´ë˜ì‹',
          description: 'ê±´ì¡°í•˜ê³  ë¯¼ê°í•˜ì§€ ì•Šìœ¼ë©°, íŠ¸ëŸ¬ë¸”ì´ ë§ê³  í”¼ë¶€ í†¤ì´ ë§‘ì€ í¸ì˜ í”¼ë¶€',
          summary: 'í”¼ë¶€ê°€ ê±´ì¡°í•˜ì—¬ ê°ì§ˆ ê´€ë¦¬ê°€ ì¤‘ìš”í•˜ë©°, íŠ¸ëŸ¬ë¸” ì¼€ì–´ ì œí’ˆì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.',
          products: [
            { name: 'í† ë„ˆ: í´ë¦°ì•¤í´ë¦¬ì–´ ì‚´ë¦¬ì‹¤ì‚° í† ë„ˆ', link: 'https://www.coupang.com/np/search?q=í´ë¦°ì•¤í´ë¦¬ì–´+í† ë„ˆ' },
            { name: 'ì„¸ëŸ¼: ë””ì˜¬ìŠ¤í‚¨ ì½”ë ‰í„° ì„¸ëŸ¼', link: 'https://www.coupang.com/np/search?q=ë””ì˜¬ìŠ¤í‚¨+ì½”ë ‰í„°+ì„¸ëŸ¼' },
            { name: 'í¬ë¦¼: ì„¸ë¼ë¹„ ëª¨ì´ìŠ¤ì²˜ë¼ì´ì§• í¬ë¦¼', link: 'https://www.coupang.com/np/search?q=ì„¸ë¼ë¹„+ëª¨ì´ìŠ¤ì²˜ë¼ì´ì§•+í¬ë¦¼' },
            { name: 'ë§ˆìŠ¤í¬íŒ©: ë©”ë””í í‹°íŠ¸ë¦¬ ë§ˆìŠ¤í¬', link: 'https://www.coupang.com/np/search?q=ë©”ë””í+í‹°íŠ¸ë¦¬+ë§ˆìŠ¤í¬' }
          ],
          analysis: {
            hydration: 'ê±´ì¡°í•œ í¸ìœ¼ë¡œ ìˆ˜ë¶„ ê³µê¸‰ì´ í•„ìš”í•¨',
            sensitivity: 'ì™¸ë¶€ ìê·¹ì— ê°•í•œ í¸',
            trouble: 'íŠ¸ëŸ¬ë¸”ì´ ìì£¼ ë°œìƒí•¨',
            tone: 'í”¼ë¶€ í†¤ì´ ê· ì¼í•˜ê³  ë§‘ì€ í¸'
          }
        },
        'OSTT': {
          name: 'ê¸€ë¡œìš° ë²¨ë²³',
          description: 'ì§€ì„±ì´ë©´ì„œ ë¯¼ê°í•˜ê³ , íŠ¸ëŸ¬ë¸”ì´ ë§ìœ¼ë©° í”¼ë¶€ í†¤ì´ ë°ì€ í¸ì˜ í”¼ë¶€',
          summary: 'í”¼ì§€ ì¡°ì ˆê³¼ í•¨ê»˜ ìê·¹ ì—†ëŠ” ì œí’ˆìœ¼ë¡œ ì§„ì • ì¼€ì–´ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
          products: [
            { name: 'í† ë„ˆ: ì½”ìŠ¤ì•Œì—‘ìŠ¤ BHA ë¸”ë™í—¤ë“œ íŒŒì›Œ ë¦¬í€´ë“œ', link: 'https://www.coupang.com/np/search?q=ì½”ìŠ¤ì•Œì—‘ìŠ¤+ë¸”ë™í—¤ë“œ+íŒŒì›Œ+ë¦¬í€´ë“œ' },
            { name: 'ì„¸ëŸ¼: ì´ë‹ˆìŠ¤í”„ë¦¬ ê·¸ë¦°í‹° ì”¨ë“œ ì„¸ëŸ¼', link: 'https://www.coupang.com/np/search?q=ì´ë‹ˆìŠ¤í”„ë¦¬+ê·¸ë¦°í‹°+ì”¨ë“œ+ì„¸ëŸ¼' },
            { name: 'í¬ë¦¼: ë°”ì´ì˜¤ë”ë§ˆ ì„¸ë¹„ì›€ í•˜ì´ë“œë¼', link: 'https://www.coupang.com/np/search?q=ë°”ì´ì˜¤ë”ë§ˆ+ì„¸ë¹„ì›€+í•˜ì´ë“œë¼' },
            { name: 'ë§ˆìŠ¤í¬íŒ©: ë©”ë””í í‹°íŠ¸ë¦¬ ì—ì„¼ì…œ ë§ˆìŠ¤í¬', link: 'https://www.coupang.com/np/search?q=ë©”ë””í+í‹°íŠ¸ë¦¬+ì—ì„¼ì…œ+ë§ˆìŠ¤í¬' }
          ],
          analysis: {
            hydration: 'ìœ ë¶„ê¸°ê°€ ë§ê³  ë²ˆë“¤ê±°ë¦¼',
            sensitivity: 'ì™¸ë¶€ ìê·¹ì— ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•¨',
            trouble: 'ì—¬ë“œë¦„, ë¾°ë£¨ì§€ ë“± íŠ¸ëŸ¬ë¸” ë°œìƒ ë¹ˆë„ ë†’ìŒ',
            tone: 'í”¼ë¶€ í†¤ì´ íˆ¬ëª…í•˜ê³  ë°ì€ í¸'
          }
        }
      };
      
      // ëª¨ë“  ê°€ëŠ¥í•œ ì½”ë“œ ì¡°í•© ìƒì„± í•¨ìˆ˜
      function generateAllCodes() {
        const moistureTypes = ['D', 'B', 'O']; // Dry, Balanced, Oily
        const sensitivityTypes = ['R', 'S']; // Resistant, Sensitive
        const troubleTypes = ['C', 'T']; // Clear, Trouble
        const toneTypes = ['M', 'T']; // Matte, Translucent
        
        moistureTypes.forEach(m => {
          sensitivityTypes.forEach(s => {
            troubleTypes.forEach(t => {
              toneTypes.forEach(tone => {
                const code = m + s + t + tone;
                // ê¸°ë³¸ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°ì—ë§Œ ê¸°ë³¸ ë°ì´í„° ìƒì„±
                if (!beautyCodeMapping[code]) {
                  beautyCodeMapping[code] = {
                    name: `${m === 'D' ? 'ê±´ì¡°' : m === 'B' ? 'ê· í˜•' : 'ì§€ì„±'} ${s === 'R' ? 'ë‚´ì„±' : 'ë¯¼ê°'} ${t === 'C' ? 'í´ë¦¬ì–´' : 'íŠ¸ëŸ¬ë¸”'} ${tone === 'M' ? 'ë¬´ê´‘' : 'ê´‘ì±„'} íƒ€ì…`,
                    description: `${m === 'D' ? 'ê±´ì¡°í•˜ê³ ' : m === 'B' ? 'ê· í˜• ì¡íˆê³ ' : 'ì§€ì„±ì´ê³ '} ${s === 'R' ? 'ë¯¼ê°í•˜ì§€ ì•Šìœ¼ë©°' : 'ë¯¼ê°í•˜ë©°'}, íŠ¸ëŸ¬ë¸”ì´ ${t === 'C' ? 'ì ê³ ' : 'ë§ê³ '} í”¼ë¶€ í†¤ì´ ${tone === 'M' ? 'íƒí•œ' : 'ë§‘ì€'} í¸ì˜ í”¼ë¶€`,
                    summary: `${m === 'D' ? 'ë³´ìŠµ' : m === 'B' ? 'ê· í˜• ìœ ì§€' : 'ìœ ë¶„ ì¡°ì ˆ'}ê³¼ ${s === 'S' ? 'ì§„ì •' : 'í™œë ¥'} ì¼€ì–´ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ${t === 'T' ? 'íŠ¸ëŸ¬ë¸” ê´€ë¦¬ì— ì‹ ê²½ì¨ì•¼ í•©ë‹ˆë‹¤.' : ''}`,
                    products: [
  { name: 'í† ë„ˆ: ì¶”ì²œ í† ë„ˆ', link: 'https://www.coupang.com


products: [
                      { name: 'í† ë„ˆ: ì¶”ì²œ í† ë„ˆ', link: 'https://www.coupang.com/np/search?q=í† ë„ˆ' },
                      { name: 'ì„¸ëŸ¼: ì¶”ì²œ ì„¸ëŸ¼', link: 'https://www.coupang.com/np/search?q=ì„¸ëŸ¼' },
                      { name: 'í¬ë¦¼: ì¶”ì²œ í¬ë¦¼', link: 'https://www.coupang.com/np/search?q=í¬ë¦¼' },
                      { name: 'ë§ˆìŠ¤í¬íŒ©: ì¶”ì²œ ë§ˆìŠ¤í¬íŒ©', link: 'https://www.coupang.com/np/search?q=ë§ˆìŠ¤í¬íŒ©' }
                    ],
                    analysis: {
                      hydration: m === 'D' ? 'ê±´ì¡°í•œ í¸ìœ¼ë¡œ ìˆ˜ë¶„ ê³µê¸‰ì´ í•„ìš”í•¨' : m === 'B' ? 'ì ì ˆí•œ ìˆ˜ë¶„ ë°¸ëŸ°ìŠ¤ ìœ ì§€' : 'ìœ ë¶„ê¸°ê°€ ë§ì€ í¸',
                      sensitivity: s === 'R' ? 'ì™¸ë¶€ ìê·¹ì— ê°•í•œ í¸' : 'ìê·¹ì— ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•˜ëŠ” í¸',
                      trouble: t === 'C' ? 'íŠ¸ëŸ¬ë¸”ì´ ê±°ì˜ ì—†ëŠ” ê¹¨ë—í•œ í”¼ë¶€' : 'íŠ¸ëŸ¬ë¸”ì´ ìì£¼ ë°œìƒí•˜ëŠ” í¸',
                      tone: tone === 'M' ? 'í”¼ë¶€ í†¤ì´ ë‹¤ì†Œ íƒí•˜ê±°ë‚˜ ê· ì¼í•˜ì§€ ì•ŠìŒ' : 'í”¼ë¶€ í†¤ì´ ë°ê³  íˆ¬ëª…í•œ í¸'
                    }
                  };
                }
              });
            });
          });
        });
      }
      
      // ëª¨ë“  ì½”ë“œ ì¡°í•© ìƒì„± ì‹¤í–‰
      generateAllCodes();
      
      // URL íŒŒë¼ë¯¸í„° í™•ì¸ ë° ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
      function checkUrlParams() {
        const urlParams = new URLSearchParams(window.location.search);
        const codeParam = urlParams.get('code');
        
        if (codeParam && codeParam.length === 4) {
          // ìœ íš¨í•œ ë·°í‹° ì½”ë“œ í˜•ì‹ì¸ì§€ í™•ì¸
          const validFirstChars = ['D', 'B', 'O'];
          const validSecondChars = ['R', 'S'];
          const validThirdChars = ['C', 'T'];
          const validFourthChars = ['M', 'T'];
          
          const isValidCode = 
            validFirstChars.includes(codeParam[0]) && 
            validSecondChars.includes(codeParam[1]) && 
            validThirdChars.includes(codeParam[2]) && 
            validFourthChars.includes(codeParam[3]);
          
          if (isValidCode) {
            displayResults(codeParam);
            return true;
          }
        }
        return false;
      }
      
      // í˜ì´ì§€ ë¡œë“œ ì‹œ URL íŒŒë¼ë¯¸í„° í™•ì¸
      if (checkUrlParams()) {
        surveyContainer.style.display = 'none';
        resultContainer.style.display = 'block';
      }
      
      // ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
      function displayResults(beautyCode) {
        // ë·°í‹° ì½”ë“œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        const codeInfo = beautyCodeMapping[beautyCode] || {
          name: 'ê¸°ë³¸ íƒ€ì…',
          description: 'í”¼ë¶€ ë¶„ì„ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
          summary: 'ë” ì •í™•í•œ ë¶„ì„ì„ ìœ„í•´ ë‹¤ì‹œ ì§„ë‹¨í•´ë³´ì„¸ìš”.',
          products: [],
          analysis: {
            hydration: 'ì •ë³´ ì—†ìŒ',
            sensitivity: 'ì •ë³´ ì—†ìŒ',
            trouble: 'ì •ë³´ ì—†ìŒ',
            tone: 'ì •ë³´ ì—†ìŒ'
          }
        };
        
        // ê²°ê³¼ í™”ë©´ì— ë°ì´í„° í‘œì‹œ
        document.getElementById('beauty-code').textContent = beautyCode;
        document.getElementById('type-name').textContent = codeInfo.name;
        document.getElementById('type-description').textContent = codeInfo.description;
        document.getElementById('hydration-result').textContent = codeInfo.analysis.hydration;
        document.getElementById('sensitivity-result').textContent = codeInfo.analysis.sensitivity;
        document.getElementById('trouble-result').textContent = codeInfo.analysis.trouble;
        document.getElementById('tone-result').textContent = codeInfo.analysis.tone;
        document.getElementById('summary-text').textContent = codeInfo.summary;
        
        // ì œí’ˆ ëª©ë¡ í‘œì‹œ
        const productList = document.getElementById('product-list');
        productList.innerHTML = '';
        
        codeInfo.products.forEach(product => {
          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = product.link;
          a.target = '_blank';
          a.textContent = product.name;
          li.appendChild(a);
          productList.appendChild(li);
        });
        
        // ì„¤ë¬¸ ìˆ¨ê¸°ê³  ê²°ê³¼ í‘œì‹œ
        surveyContainer.style.display = 'none';
        resultContainer.style.display = 'block';
      }
      
      // í¼ ì œì¶œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
      surveyForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // í¼ ë°ì´í„° ìˆ˜ì§‘
        const hydrationScore = parseInt(document.querySelector('input[name="hydration"]:checked').value);
        const tightnessScore = parseInt(document.querySelector('input[name="tightness"]:checked').value);
        const troubleScore = parseInt(document.querySelector('input[name="trouble"]:checked').value);
        const sensitivityScore = parseInt(document.querySelector('input[name="sensitivity"]:checked').value);
        const toneScore = parseInt(document.querySelector('input[name="tone"]:checked').value);
        
        // ìˆ˜ë¶„ ì ìˆ˜ ê³„ì‚° (ìˆ˜ë¶„ ì„­ì·¨ëŸ‰ + ì„¸ì•ˆ ë‹¹ê¹€ì˜ ë°˜ëŒ€ê°’)
        const moistureScore = (hydrationScore + (6 - tightnessScore)) / 2;
        
        // ë·°í‹° ì½”ë“œ ìƒì„±
        let beautyCode = '';
        
        // ì²« ë²ˆì§¸ ìë¦¬: ìˆ˜ë¶„ ìƒíƒœ
        if (moistureScore <= 2.5) {
          beautyCode += 'D'; // Dry
        } else if (moistureScore <= 3.4) {
          beautyCode += 'B'; // Balanced
        } else {
          beautyCode += 'O'; // Oily
        }
        
        // ë‘ ë²ˆì§¸ ìë¦¬: ë¯¼ê°ë„
        if (sensitivityScore <= 2.5) {
          beautyCode += 'R'; // Resistant
        } else {
          beautyCode += 'S'; // Sensitive
        }
        
        // ì„¸ ë²ˆì§¸ ìë¦¬: íŠ¸ëŸ¬ë¸” ë¹ˆë„
        if (troubleScore <= 2.5) {
          beautyCode += 'C'; // Clear
        } else {
          beautyCode += 'T'; // Trouble
        }
        
        // ë„¤ ë²ˆì§¸ ìë¦¬: í”¼ë¶€ í†¤/í˜ˆìƒ‰
        if (toneScore <= 2.5) {
          beautyCode += 'M'; // Matte
        } else {
          beautyCode += 'T'; // Translucent
        }
        
        // ê²°ê³¼ í‘œì‹œ
        displayResults(beautyCode);
      });
      
      // ì¸ì‡„ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      printBtn.addEventListener('click', function() {
        window.print();
      });
      
      // ì¬ì‹œì‘ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      restartBtn.addEventListener('click', function() {
        surveyForm.reset();
        resultContainer.style.display = 'none';
        surveyContainer.style.display = 'block';
        progressBar.style.width = '0%';
        
        // URLì—ì„œ ì½”ë“œ íŒŒë¼ë¯¸í„° ì œê±°
        const url = new URL(window.location);
        url.searchParams.delete('code');
        window.history.replaceState({}, '', url);
      });
      
      // ê³µìœ  URL ìƒì„± ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      shareBtn.addEventListener('click', function() {
        const beautyCode = document.getElementById('beauty-code').textContent;
        const url = new URL(window.location.href);
        url.searchParams.set('code', beautyCode);
        
        shareUrl.value = url.href;
        urlContainer.style.display = 'block';
      });
      
      // URL ë³µì‚¬ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      copyUrlBtn.addEventListener('click', function() {
        shareUrl.select();
        document.execCommand('copy');
        
        // ë³µì‚¬ ì™„ë£Œ í‘œì‹œ
        const originalText = copyUrlBtn.textContent;
        copyUrlBtn.textContent = 'ë³µì‚¬ë¨!';
        copyUrlBtn.style.backgroundColor = '#27ae60';
        
        setTimeout(function() {
          copyUrlBtn.textContent = originalText;
          copyUrlBtn.style.backgroundColor = '#2ecc71';
        }, 2000);
      });
    });
  </script>
</body>
</html>














<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>피부 코드 진단 시스템</title>
  <style>
    :root {
      --primary-color: #3f51b5;
      --secondary-color: #7986cb;
      --light-color: #f8f9fa;
      --dark-color: #343a40;
      --success-color: #4caf50;
      --warning-color: #ff9800;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Noto Sans KR', sans-serif;
    }
    
    body {
      background-color: #f5f5f5;
      color: var(--dark-color);
      line-height: 1.6;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    h1 {
      color: var(--primary-color);
      margin-bottom: 10px;
    }
    
    h2 {
      color: var(--secondary-color);
      margin: 20px 0;
    }
    
    .card {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      padding: 20px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      font-weight: bold;
      margin-bottom: 10px;
    }
    
    .options {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    
    .option-label {
      display: block;
      font-size: 0.8rem;
      text-align: center;
      margin-top: 5px;
    }
    
    .radio-group {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    input[type="radio"] {
      margin-bottom: 5px;
    }
    
    button {
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 1rem;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
      display: block;
      margin: 30px auto;
      width: 200px;
    }
    
    button:hover {
      background-color: var(--secondary-color);
    }
    
    #survey-container {
      display: block;
    }
    
    #result-container {
      display: none;
    }
    
    /* 새로운 결과 스타일 */
    .report-header {
      display: flex;
      align-items: center;
      padding-bottom: 15px;
      border-bottom: 2px solid #eee;
      margin-bottom: 20px;
    }
    
    .report-logo {
      font-size: 2rem;
      margin-right: 15px;
      color: var(--primary-color);
    }
    
    .report-title {
      flex-grow: 1;
    }
    
    .report-title h1 {
      font-size: 1.8rem;
      margin-bottom: 5px;
    }
    
    .checklist-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    .checklist-table th, .checklist-table td {
      padding: 10px;
      border: 1px solid #ddd;
    }
    
    .checklist-table th {
      background-color: #f2f2f2;
      text-align: left;
      width: 35%;
    }
    
    .checklist-table th:first-child {
      width: 50px;
      text-align: center;
    }
    
    .section-title {
      display: flex;
      align-items: center;
      margin: 30px 0 15px;
      font-size: 1.2rem;
      color: var(--primary-color);
    }
    
    .section-title span {
      margin-right: 10px;
    }
    
    .beauty-code {
      display: flex;
      align-items: center;
      margin: 20px 0;
    }
    
    .beauty-code-letter {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 10px;
      border-radius: 10px;
      font-size: 1.8rem;
      font-weight: bold;
      color: white;
      background-color: var(--primary-color);
    }
    
    .type-description {
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 5px;
      margin: 15px 0;
      border-left: 4px solid var(--primary-color);
    }
    
    .feature-list, .product-recommendations {
      margin: 20px 0;
    }
    
    .feature-item, .product-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 10px;
    }
    
    .feature-icon, .product-icon {
      flex-shrink: 0;
      width: 24px;
      height: 24px;
      margin-right: 10px;
      color: var(--primary-color);
    }
    
    .tip-box {
      background-color: #fff8e1;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
    }
    
    .footer-note {
      font-size: 0.9rem;
      color: #666;
      margin-top: 30px;
      text-align: center;
      border-top: 1px solid #eee;
      padding-top: 15px;
    }
    
    .action-buttons {
      display: flex;
      justify-content: center;
      margin-top: 30px;
    }
    
    .action-button {
      margin: 0 10px;
      padding: 10px 20px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      font-weight: bold;
    }
    
    .pdf-button {
      background-color: #f44336;
      color: white;
    }
    
    .restart-button {
      background-color: #2196f3;
      color: white;
    }
    
    .progress-container {
      width: 100%;
      background-color: #f1f1f1;
      border-radius: 5px;
      margin: 10px 0;
    }
    
    .progress-bar {
      height: 10px;
      border-radius: 5px;
      background-color: var(--primary-color);
      width: 0%;
      transition: width 0.3s;
    }
    
    @media print {
      .no-print {
        display: none;
      }
      
      body {
        background-color: white;
      }
      
      .container {
        max-width: 100%;
        padding: 0;
      }
    }
    
    @media (max-width: 768px) {
      .options {
        flex-direction: column;
      }
      
      .radio-group {
        flex-direction: row;
        margin-bottom: 10px;
        width: 100%;
        justify-content: space-between;
      }
      
      .option-label {
        margin-left: 10px;
        text-align: left;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .action-button {
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>피부 코드 진단 시스템</h1>
      <p>아래 설문에 응답하여 당신만의 뷰티 코드를 확인해보세요!</p>
    </header>
    
    <div id="survey-container" class="card">
      <h2>피부 설문지</h2>
      <div class="progress-container">
        <div id="progress-bar" class="progress-bar"></div>
      </div>
      <form id="skinSurvey">
        <div class="form-group">
          <label>1. 성별</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="gender-female" name="gender" value="female" required>
              <span class="option-label">여성</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="gender-male" name="gender" value="male">
              <span class="option-label">남성</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>2. 연령대</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="age-teens" name="age" value="10s" required>
              <span class="option-label">10대</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-20s" name="age" value="20s">
              <span class="option-label">20대</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-30s" name="age" value="30s">
              <span class="option-label">30대</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-40s" name="age" value="40s">
              <span class="option-label">40대</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-50s" name="age" value="50s">
              <span class="option-label">50대</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="age-60s" name="age" value="60s">
              <span class="option-label">60대 이상</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>3. 수분 섭취량</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="hydration-verylow" name="hydration" value="1" required>
              <span class="option-label">매우 부족</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-low" name="hydration" value="2">
              <span class="option-label">부족</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-medium" name="hydration" value="3">
              <span class="option-label">보통</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-high" name="hydration" value="4">
              <span class="option-label">충분</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="hydration-veryhigh" name="hydration" value="5">
              <span class="option-label">매우 충분</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>4. 세안 후 당김</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="tightness-none" name="tightness" value="1" required>
              <span class="option-label">전혀 없음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-little" name="tightness" value="2">
              <span class="option-label">약간 있음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-medium" name="tightness" value="3">
              <span class="option-label">보통</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-often" name="tightness" value="4">
              <span class="option-label">자주 느껴짐</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tightness-always" name="tightness" value="5">
              <span class="option-label">항상 당김</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>5. 트러블 빈도</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="trouble-none" name="trouble" value="1" required>
              <span class="option-label">없음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-rarely" name="trouble" value="2">
              <span class="option-label">가끔</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-sometimes" name="trouble" value="3">
              <span class="option-label">보통</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-often" name="trouble" value="4">
              <span class="option-label">자주</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="trouble-always" name="trouble" value="5">
              <span class="option-label">항상 있음</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>6. 피부 민감도</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="sensitivity-verylow" name="sensitivity" value="1" required>
              <span class="option-label">매우 둔감</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-low" name="sensitivity" value="2">
              <span class="option-label">약간 둔감</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-medium" name="sensitivity" value="3">
              <span class="option-label">보통</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-high" name="sensitivity" value="4">
              <span class="option-label">민감</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sensitivity-veryhigh" name="sensitivity" value="5">
              <span class="option-label">매우 민감</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>7. 피지 분비량</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="sebum-verylow" name="sebum" value="1" required>
              <span class="option-label">매우 적음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-low" name="sebum" value="2">
              <span class="option-label">적음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-medium" name="sebum" value="3">
              <span class="option-label">보통</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-high" name="sebum" value="4">
              <span class="option-label">많음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="sebum-veryhigh" name="sebum" value="5">
              <span class="option-label">매우 많음</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>8. T존/U존 특성</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="zone-alldry" name="zone" value="1" required>
              <span class="option-label">전체 건성</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-toily" name="zone" value="2">
              <span class="option-label">T존만 지성</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-uoily" name="zone" value="3">
              <span class="option-label">U존만 지성</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-alloily" name="zone" value="4">
              <span class="option-label">전체 지성</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="zone-mixed" name="zone" value="5">
              <span class="option-label">혼합성</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>9. 피부 혈색/톤</label>
          <div class="options">
            <div class="radio-group">
              <input type="radio" id="tone-verybright" name="tone" value="1" required>
              <span class="option-label">매우 밝음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-bright" name="tone" value="2">
              <span class="option-label">밝음</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-medium" name="tone" value="3">
              <span class="option-label">보통</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-dark" name="tone" value="4">
              <span class="option-label">어두움</span>
            </div>
            <div class="radio-group">
              <input type="radio" id="tone-verydark" name="tone" value="5">
              <span class="option-label">매우 어두움</span>
            </div>
          </div>
        </div>
        
        <button type="submit" id="submit-btn">결과 확인하기</button>
      </form>
    </div>
    
    <!-- 새로운 결과 컨테이너 디자인 -->
    <div id="result-container" class="card">
      <div class="report-header">
        <div class="report-logo">💎</div>
        <div class="report-title">
          <h1>BEAUTY CODE AI 피부 진단 결과 리포트</h1>
        </div>
      </div>
      
      <div class="section-title">
        <span>🔍</span> 설문 응답자 피부진단 체크 리스트
      </div>
      
      <table class="checklist-table">
        <tr>
          <th>No.</th>
          <th>질문 구분</th>
          <th>답변 내용</th>
        </tr>
        <tr>
          <td>1</td>
          <td>성별</td>
          <td id="response-gender">-</td>
        </tr>
        <tr>
          <td>2</td>
          <td>연령대</td>
          <td id="response-age">-</td>
        </tr>
        <tr>
          <td>3</td>
          <td>수분 섭취량</td>
          <td id="response-hydration">-</td>
        </tr>
        <tr>
          <td>4</td>
          <td>세안 후 당김</td>
          <td id="response-tightness">-</td>
        </tr>
        <tr>
          <td>5</td>
          <td>트러블 빈도</td>
          <td id="response-trouble">-</td>
        </tr>
        <tr>
          <td>6</td>
          <td>피부 민감도</td>
          <td id="response-sensitivity">-</td>
        </tr>
        <tr>
          <td>7</td>
          <td>피지 분비량</td>
          <td id="response-sebum">-</td>
        </tr>
        <tr>
          <td>8</td>
          <td>T존/U존 특성</td>
          <td id="response-zone">-</td>
        </tr>
        <tr>
          <td>9</td>
          <td>피부 혈색</td>
          <td id="response-tone">-</td>
        </tr>
      </table>
      
      <div class="section-title">
        <span>📊</span> 피부 진단 결과
      </div>
      
      <div>
        <p>당신의 피부유형은 <strong id="skin-type-name"></strong> 입니다.</p>
        <div class="beauty-code">
          <div class="beauty-code-letter" id="code-letter-1">-</div>
          <div class="beauty-code-letter" id="code-letter-2">-</div>
          <div class="beauty-code-letter" id="code-letter-3">-</div>
          <div class="beauty-code-letter" id="code-letter-4">-</div>
        </div>
        <div id="type-description" class="type-description">
          피부 타입 설명이 여기에 표시됩니다.
        </div>
      </div>
      
      <div class="section-title">
        <span>✅</span> 주요 특징
      </div>
      
      <div class="feature-list" id="feature-list">
        <!-- 특징 항목들이 여기에 동적으로 추가됩니다 -->
      </div>
      
      <div class="section-title">
        <span>🔒</span> 추천 제품
      </div>
      
      <div class="product-recommendations" id="product-list">
        <!-- 제품 추천 목록이 여기에 동적으로 추가됩니다 -->
      </div>
      
      <div class="tip-box">
        <p><strong>TIP:</strong> 제품 테스트 전, 팔 안쪽에 먼저 발라보고 24시간 후 이상 반응 없을 시 사용하세요.</p>
      </div>
      
      <div class="footer-note">
        <p>주석: 피부진단을 위해 참고하여 분석한 정밀한 연구논문 리스트</p>
      </div>
      
      <div class="action-buttons no-print">
        <button type="button" class="action-button pdf-button" id="print-btn">결과 PDF 저장</button>
        <button type="button" class="action-button restart-button" id="restart-btn">다시 진단하기</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const surveyForm = document.getElementById('skinSurvey');
      const surveyContainer = document.getElementById('survey-container');
      const resultContainer = document.getElementById('result-container');
      const progressBar = document.getElementById('progress-bar');
      const printBtn = document.getElementById('print-btn');
      const restartBtn = document.getElementById('restart-btn');
      
      // 진행 상황 업데이트 함수
      function updateProgress() {
        const radioInputs = document.querySelectorAll('input[type="radio"]');
        const totalQuestions = 9; // 성별, 연령대, 수분 등 9개 항목
        const answeredQuestions = new Set();
        
        radioInputs.forEach(input => {
          if (input.checked) {
            // 질문의 name 속성을 기반으로 응답한 질문 추적
            answeredQuestions.add(input.name);
          }
        });
        
        const progress = (answeredQuestions.size / totalQuestions) * 100;
        progressBar.style.width = `${progress}%`;
      }
      
      // 라디오 버튼 변경 이벤트에 리스너 추가
      const radioInputs = document.querySelectorAll('input[type="radio"]');
      radioInputs.forEach(input => {
        input.addEventListener('change', updateProgress);
      });
      
      // 뷰티 코드 매핑 데이터 및 확장 정보
      const beautyCodeMapping = {
        // Balanced + Sensitive
        'BSCT': {
          name: '밸런스 센서티브 타입',
          description: '수분과 유분이 균형을 이루며, 외부 자극에 민감하게 반응하는 피부입니다. 트러블은 적은 편이고 피부 톤이 맑은 편입니다.',
          summary: '환경 변화에 민감하게 반응하는 피부로, 붉어짐, 자극, 따가움이 자주 발생합니다. 피부 장벽이 약화될 수 있으므로 진정과 보습 중심의 관리가 필요합니다.',
          features: [
            '붉어짐과 자극에 민감하게 반응함',
            '유수분 밸런스가 불안정함',
            '민감성 전용 제품 사용 권장'
          ],
          products: [
            '무향 약산성 진정 토너',
            '저자극 세라마이드 앰플',
            '민감성 전용 수분크림 및 선크림'
          ],
          analysis: {
            hydration: '적절한 수분 밸런스 유지',
            sensitivity: '자극에 민감하게 반응하는 편',
            trouble: '트러블이 거의 없는 깨끗한 피부',
            tone: '피부 톤이 밝고 투명한 편'
          }
        },
        'BSTT': {
          name: '센서티브 타입',
          description: '수분과 유분이 균형을 이루며, 외부 자극에 민감하게 반응하는 피부입니다. 트러블이 종종 발생하며 피부 톤이 맑은 편입니다.',
          summary: '환경 변화에 민감하게 반응하는 피부로, 붉어짐, 자극, 따가움이 자주 발생합니다. 피부 장벽이 약화될 수 있으므로 진정과 보습 중심의 관리가 필요합니다.',
          features: [
            '붉어짐과 자극에 민감하게 반응함',
            '유수분 밸런스가 불안정함',
            '민감성 전용 제품 사용 권장'
          ],
          products: [
            '무향 약산성 진정 토너',
            '저자극 세라마이드 앰플',
            '민감성 전용 수분크림 및 선크림'
          ],
          analysis: {
            hydration: '적절한 수분 밸런스 유지',
            sensitivity: '자극에 민감하게 반응하는 편',
            trouble: '트러블이 자주 발생하는 편',
            tone: '피부 톤이 밝고 투명한 편'
          }
        },
        // Dry + Sensitive
        'DSCT': {
          name: '드라이 센서티브 타입',
          description: '건조하고 민감한 피부로, 외부 자극에 예민하게 반응합니다. 트러블은 적은 편이나 건조함으로 인한 불편함이 있습니다.',
          summary: '피부 장벽이 약해 외부 자극에 민감하고 수분 유지가 어려운 타입입니다. 
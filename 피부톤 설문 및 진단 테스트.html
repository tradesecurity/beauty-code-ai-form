<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>피부 진단 시스템</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    
    h1, h2, h3 {
      color: #3f51b5;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid #eee;
    }
    
    .survey-form {
      margin-bottom: 30px;
    }
    
    .question {
      margin-bottom: 20px;
      padding: 15px;
      background-color: #f9f9f9;
      border-radius: 5px;
    }
    
    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }
    
    .option {
      display: flex;
      align-items: center;
    }
    
    .option label {
      margin-left: 5px;
    }
    
    button {
      background-color: #3f51b5;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 20px;
    }
    
    button:hover {
      background-color: #303f9f;
    }
    
    #results {
      display: none;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }
    
    .beauty-code {
      display: flex;
      gap: 10px;
      margin: 20px 0;
    }
    
    .code-letter {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #3f51b5;
      color: white;
      font-weight: bold;
      font-size: 24px;
      border-radius: 5px;
    }
    
    .result-section {
      margin-bottom: 30px;
    }
    
    .feature-list, .routine-list, .product-list {
      padding-left: 20px;
    }
    
    .feature-item, .product-item {
      margin-bottom: 10px;
    }
    
    .result-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    .result-table th, .result-table td {
      border: 1px solid #ddd;
      padding: 10px;
    }
    
    .result-table th {
      background-color: #f2f2f2;
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    
    @media print {
      .no-print {
        display: none;
      }
      
      body, .container {
        background-color: white;
        padding: 0;
        margin: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>피부 진단 시스템</h1>
      <p>설문에 응답하여 당신만의 피부 타입을 확인해보세요</p>
    </div>
    
    <div class="survey-form" id="surveyForm">
      <h2>피부 설문지</h2>
      
      <div class="question">
        <h3>1. 성별</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="female" name="gender" value="female" required>
            <label for="female">여성</label>
          </div>
          <div class="option">
            <input type="radio" id="male" name="gender" value="male">
            <label for="male">남성</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>2. 연령대</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="age10s" name="age" value="10s" required>
            <label for="age10s">10대</label>
          </div>
          <div class="option">
            <input type="radio" id="age20s" name="age" value="20s">
            <label for="age20s">20대</label>
          </div>
          <div class="option">
            <input type="radio" id="age30s" name="age" value="30s">
            <label for="age30s">30대</label>
          </div>
          <div class="option">
            <input type="radio" id="age40s" name="age" value="40s">
            <label for="age40s">40대</label>
          </div>
          <div class="option">
            <input type="radio" id="age50s" name="age" value="50s">
            <label for="age50s">50대</label>
          </div>
          <div class="option">
            <input type="radio" id="age60s" name="age" value="60s">
            <label for="age60s">60대 이상</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>3. 수분 섭취량</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="hydration1" name="hydration" value="1" required>
            <label for="hydration1">매우 부족</label>
          </div>
          <div class="option">
            <input type="radio" id="hydration2" name="hydration" value="2">
            <label for="hydration2">부족</label>
          </div>
          <div class="option">
            <input type="radio" id="hydration3" name="hydration" value="3">
            <label for="hydration3">보통</label>
          </div>
          <div class="option">
            <input type="radio" id="hydration4" name="hydration" value="4">
            <label for="hydration4">충분</label>
          </div>
          <div class="option">
            <input type="radio" id="hydration5" name="hydration" value="5">
            <label for="hydration5">매우 충분</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>4. 세안 후 당김</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="tightness1" name="tightness" value="1" required>
            <label for="tightness1">전혀 없음</label>
          </div>
          <div class="option">
            <input type="radio" id="tightness2" name="tightness" value="2">
            <label for="tightness2">약간 있음</label>
          </div>
          <div class="option">
            <input type="radio" id="tightness3" name="tightness" value="3">
            <label for="tightness3">보통</label>
          </div>
          <div class="option">
            <input type="radio" id="tightness4" name="tightness" value="4">
            <label for="tightness4">자주 느껴짐</label>
          </div>
          <div class="option">
            <input type="radio" id="tightness5" name="tightness" value="5">
            <label for="tightness5">항상 당김</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>5. 트러블 빈도</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="trouble1" name="trouble" value="1" required>
            <label for="trouble1">없음</label>
          </div>
          <div class="option">
            <input type="radio" id="trouble2" name="trouble" value="2">
            <label for="trouble2">가끔</label>
          </div>
          <div class="option">
            <input type="radio" id="trouble3" name="trouble" value="3">
            <label for="trouble3">보통</label>
          </div>
          <div class="option">
            <input type="radio" id="trouble4" name="trouble" value="4">
            <label for="trouble4">자주</label>
          </div>
          <div class="option">
            <input type="radio" id="trouble5" name="trouble" value="5">
            <label for="trouble5">항상 있음</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>6. 피부 민감도</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="sensitivity1" name="sensitivity" value="1" required>
            <label for="sensitivity1">매우 둔감</label>
          </div>
          <div class="option">
            <input type="radio" id="sensitivity2" name="sensitivity" value="2">
            <label for="sensitivity2">약간 둔감</label>
          </div>
          <div class="option">
            <input type="radio" id="sensitivity3" name="sensitivity" value="3">
            <label for="sensitivity3">보통</label>
          </div>
          <div class="option">
            <input type="radio" id="sensitivity4" name="sensitivity" value="4">
            <label for="sensitivity4">민감</label>
          </div>
          <div class="option">
            <input type="radio" id="sensitivity5" name="sensitivity" value="5">
            <label for="sensitivity5">매우 민감</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>7. 피지 분비량</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="sebum1" name="sebum" value="1" required>
            <label for="sebum1">매우 적음</label>
          </div>
          <div class="option">
            <input type="radio" id="sebum2" name="sebum" value="2">
            <label for="sebum2">적음</label>
          </div>
          <div class="option">
            <input type="radio" id="sebum3" name="sebum" value="3">
            <label for="sebum3">보통</label>
          </div>
          <div class="option">
            <input type="radio" id="sebum4" name="sebum" value="4">
            <label for="sebum4">많음</label>
          </div>
          <div class="option">
            <input type="radio" id="sebum5" name="sebum" value="5">
            <label for="sebum5">매우 많음</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>8. T존/U존 특성</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="zone1" name="zone" value="1" required>
            <label for="zone1">전체 건성</label>
          </div>
          <div class="option">
            <input type="radio" id="zone2" name="zone" value="2">
            <label for="zone2">T존만 지성</label>
          </div>
          <div class="option">
            <input type="radio" id="zone3" name="zone" value="3">
            <label for="zone3">U존만 지성</label>
          </div>
          <div class="option">
            <input type="radio" id="zone4" name="zone" value="4">
            <label for="zone4">전체 지성</label>
          </div>
          <div class="option">
            <input type="radio" id="zone5" name="zone" value="5">
            <label for="zone5">혼합성</label>
          </div>
        </div>
      </div>
      
      <div class="question">
        <h3>9. 피부 혈색/톤</h3>
        <div class="options">
          <div class="option">
            <input type="radio" id="tone1" name="tone" value="1" required>
            <label for="tone1">매우 밝음</label>
          </div>
          <div class="option">
            <input type="radio" id="tone2" name="tone" value="2">
            <label for="tone2">밝음</label>
          </div>
          <div class="option">
            <input type="radio" id="tone3" name="tone" value="3">
            <label for="tone3">보통</label>
          </div>
          <div class="option">
            <input type="radio" id="tone4" name="tone" value="4">
            <label for="tone4">어두움</label>
          </div>
          <div class="option">
            <input type="radio" id="tone5" name="tone" value="5">
            <label for="tone5">매우 어두움</label>
          </div>
        </div>
      </div>
      
      <button type="button" id="submitBtn">결과 보기</button>
    </div>
    
    <div id="results">
      <h2>피부 진단 결과</h2>
      
      <div class="result-section">
        <h3>당신의 뷰티 코드</h3>
        <div class="beauty-code">
          <div class="code-letter" id="letter1">-</div>
          <div class="code-letter" id="letter2">-</div>
          <div class="code-letter" id="letter3">-</div>
          <div class="code-letter" id="letter4">-</div>
        </div>
        <h3 id="skinTypeName"></h3>
        <p id="skinTypeDesc"></p>
      </div>
      
      <div class="result-section">
        <h3>상세 피부 분석</h3>
        <table class="result-table">
          <tr>
            <th>항목</th>
            <th>분석 결과</th>
          </tr>
          <tr>
            <td>수분 상태</td>
            <td id="hydrationResult"></td>
          </tr>
          <tr>
            <td>민감도</td>
            <td id="sensitivityResult"></td>
          </tr>
          <tr>
            <td>트러블 빈도</td>
            <td id="troubleResult"></td>
          </tr>
          <tr>
            <td>피부 톤/혈색</td>
            <td id="toneResult"></td>
          </tr>
        </table>
      </div>
      
      <div class="result-section">
        <h3>주요 특징</h3>
        <ul class="feature-list" id="featureList"></ul>
      </div>
      
      <div class="result-section">
        <h3>맞춤형 스킨케어 루틴</h3>
        
        <h4>AM 루틴</h4>
        <ol class="routine-list" id="amRoutine"></ol>
        
        <h4>PM 루틴</h4>
        <ol class="routine-list" id="pmRoutine"></ol>
      </div>
      
      <div class="result-section">
        <h3>추천 제품</h3>
        <ul class="product-list" id="productList"></ul>
      </div>
      
      <div class="result-section">
        <h3>설문 응답 요약</h3>
        <table class="result-table">
          <tr>
            <th>질문</th>
            <th>응답</th>
          </tr>
          <tr>
            <td>성별</td>
            <td id="genderResult"></td>
          </tr>
          <tr>
            <td>연령대</td>
            <td id="ageResult"></td>
          </tr>
          <tr>
            <td>수분 섭취량</td>
            <td id="hydrationSurvey"></td>
          </tr>
          <tr>
            <td>세안 후 당김</td>
            <td id="tightnessSurvey"></td>
          </tr>
          <tr>
            <td>트러블 빈도</td>
            <td id="troubleSurvey"></td>
          </tr>
          <tr>
            <td>피부 민감도</td>
            <td id="sensitivitySurvey"></td>
          </tr>
          <tr>
            <td>피지 분비량</td>
            <td id="sebumSurvey"></td>
          </tr>
          <tr>
            <td>T존/U존 특성</td>
            <td id="zoneSurvey"></td>
          </tr>
          <tr>
            <td>피부 혈색/톤</td>
            <td id="toneSurvey"></td>
          </tr>
        </table>
      </div>
      
      <div class="action-buttons no-print">
        <button id="printBtn">결과 PDF 저장</button>
        <button id="resetBtn">다시 진단하기</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 요소 참조
      const submitBtn = document.getElementById('submitBtn');
      const resetBtn = document.getElementById('resetBtn');
      const printBtn = document.getElementById('printBtn');
      const surveyForm = document.getElementById('surveyForm');
      const results = document.getElementById('results');
      
      // 피부 타입 데이터
      const skinTypes = {
        'DSCT': {
          name: '드라이 센서티브 클리어 타입',
          description: '피부 장벽이 약해 외부 자극에 민감하고 수분 유지가 어려운 타입입니다. 보습과 진정에 중점을 둔 관리가 필요합니다.',
          features: [
            '건조함과 당김이 심함',
            '자극에 민감하게 반응',
            '저자극, 고보습 제품 사용 필요'
          ],
          products: [
            '크림 타입 저자극 클렌저',
            '세라마이드 함유 고보습 토너',
            '판테놀 진정 에센스',
            '오일 함유 보습 크림'
          ],
          amRoutine: [
            '미온수로 가볍게 세안 혹은 토너 세안',
            '보습 토너로 수분 공급',
            '보습 에센스 사용',
            '고보습 크림으로 수분 잠금',
            '자외선 차단제 사용'
          ],
          pmRoutine: [
            '크림 타입 클렌저로 부드럽게 세안',
            '보습 토너 듬뿍 사용',
            '영양 세럼 사용',
            '오일 혼합 크림으로 보습 강화',
            '오버나이트 마스크 주 2-3회 사용'
          ],
          analysis: {
            hydration: '건조한 편으로 수분 공급이 필요함',
            sensitivity: '자극에 민감하게 반응하는 편',
            trouble: '트러블이 거의 없는 편',
            tone: '피부 톤이 밝고 투명한 편'
          }
        },
        'DSTT': {
          name: '드라이 센서티브 트러블 타입',
          description: '건조함과 민감함에 트러블까지 있어 관리가 까다로운 피부입니다. 과도한 각질 제거를 자제하고 수분과 진정에 중점을 두어야 합니다.',
          features: [
            '건조함과 트러블이 동시에 나타남',
            '외부 자극에 민감하게 반응',
            '과도한 각질 제거 자제 필요'
          ],
          products: [
            '약산성 저자극 클렌저',
            '진정 효과가 있는 토너',
            'LHA 또는 PHA 성분의 순한 각질 케어 제품',
            '세라마이드 함유 보습 크림'
          ],
          amRoutine: [
            '미온수로 가볍게 세안',
            '진정 토너 사용',
            '가벼운 수분 세럼 사용',
            '보습 크림 사용',
            '자외선 차단제 사용'
          ],
          pmRoutine: [
            '저자극 클렌저로 세안',
            '진정 토너 사용',
            '트러블 부위에 국소 치료제 사용',
            '보습 크림으로 마무리',
            '주 1-2회 수분 마스크팩 사용'
          ],
          analysis: {
            hydration: '건조한 편으로 보습이 필요함',
            sensitivity: '자극에 민감하게 반응하는 편',
            trouble: '트러블이 자주 발생하는 편',
            tone: '피부 톤이 밝은 편'
          }
        },
        'BSCT': {
          name: '밸런스 센서티브 클리어 타입',
          description: '환경 변화에 민감하게 반응하는 피부로, 붉어짐, 자극, 따가움이 자주 발생합니다. 피부 장벽이 약화될 수 있으므로 진정과 보습 중심의 관리가 필요합니다.',
          features: [
            '붉어짐과 자극에 민감하게 반응함',
            '유수분 밸런스가 불안정함',
            '민감성 전용 제품 사용 권장'
          ],
          products: [
            '무향 약산성 진정 토너',
            '저자극 세라마이드 앰플',
            '민감성 전용 수분크림 및 선크림'
          ],
          amRoutine: [
            '미온수로 가볍게 세안',
            '저자극 토너로 피부결 정돈',
            '보습 세럼 사용',
            '보습 크림으로 피부 보호',
            'SPF 30 이상 자외선 차단제 사용'
          ],
          pmRoutine: [
            '저자극 클렌저로 세안',
            '진정 토너 사용',
            '세라마이드 함유 앰플 사용',
            '회복을 위한 수면팩 1-2회/주 사용',
            '충분한 수면으로 피부 회복 돕기'
          ],
          analysis: {
            hydration: '적절한 수분 밸런스 유지',
            sensitivity: '자극에 민감하게 반응하는 편',
            trouble: '트러블이 거의 없는 깨끗한 피부',
            tone: '피부 톤이 밝고 투명한 편'
          }
        },
        'OSTT': {
          name: '오일리 센서티브 트러블 타입',
          description: '피지 조절과 함께 자극 없는 제품으로 진정 케어가 필요합니다. 과도한 세안은 오히려 유분 분비를 촉진할 수 있습니다.',
          features: [
            '번들거림과 트러블이 동시에 발생',
            '자극적인 성분에 민감하게 반응',
            '진정과 유분 조절 동시 케어 필요'
          ],
          products: [
            '저자극 약산성 클렌저',
            '판테놀 또는 진정 성분 함유 토너',
            '비오일 포뮬러 수분 에센스',
            '가벼운 텍스처의 진정 젤 크림'
          ],
          amRoutine: [
            '젤 타입 클렌저로 가볍게 세안',
            '피지 조절 토너 사용',
            '유분없는 수분 에센스 사용',
            '오일프리 수분 크림 사용',
            '매트한 마무리의 선크림 사용'
          ],
          pmRoutine: [
            '오일 클렌저 사용 (더블 클렌징)',
            '각질 정돈을 위한 저자극 BHA 토너 (주 2-3회)',
            '피지 조절 세럼 사용',
            '가벼운 젤 타입 크림 사용',
            '진정 마스크팩 주 2회 사용'
          ],
          analysis: {
            hydration: '유분기가 많고 번들거림',
            sensitivity: '외부 자극에 민감하게 반응함',
            trouble: '트러블이 자주 발생하는 편',
            tone: '피부 톤이 투명한 편'
          }
        }
      };
      
      // 응답 매핑
      const responseMap = {
        gender: { 'female': '여성', 'male': '남성' },
        age: { '10s': '10대', '20s': '20대', '30s': '30대', '40s': '40대', '50s': '50대', '60s': '60대 이상' },
        hydration: { '1': '매우 부족', '2': '부족', '3': '보통', '4': '충분', '5': '매우 충분' },
        tightness: { '1': '전혀 없음', '2': '약간 있음', '3': '보통', '4': '자주 느껴짐', '5': '항상 당김' },
        trouble: { '1': '없음', '2': '가끔', '3': '보통', '4': '자주', '5': '항상 있음' },
        sensitivity: { '1': '매우 둔감', '2': '약간 둔감', '3': '보통', '4': '민감', '5': '매우 민감' },
        sebum: { '1': '매우 적음', '2': '적음', '3': '보통', '4': '많음', '5': '매우 많음' },
        zone: { '1': '전체 건성', '2': 'T존만 지성', '3': 'U존만 지성', '4': '전체 지성', '5': '혼합성' },
        tone: { '1': '매우 밝음', '2': '밝음', '3': '보통', '4': '어두움', '5': '매우 어두움' }
      };
      
      // 기본 피부 타입 생성 함수
      function generateBasicSkinType(m, s, t, tone) {
        return {
          name: `${m === 'D' ? '건조' : m === 'B' ? '균형' : '지성'} ${s === 'R' ? '내성' : '민감'} ${t === 'C' ? '클리어' : '트러블'} ${tone === 'M' ? '무광' : '광채'} 타입`,
          description: `${m === 'D' ? '보습' : m === 'B' ? '균형 유지' : '유분 조절'}과 ${s === 'S' ? '진정' : '활력'} 케어가 중요합니다. ${t === 'T' ? '트러블 관리에 신경써야 합니다.' : ''}`,
          features: [
            `${m === 'D' ? '건조함 개선 필요' : m === 'B' ? '균형 잡힌 유수분 관리' : '과도한 유분 조절 필요'}`,
            `${s === 'S' ? '자극에 민감하게 반응' : '외부 자극에 강한 피부'}`,
            `${t === 'T' ? '트러블 관리 필요' : '깨끗한 피부 유지'}`
          ],
          products: [
            `${m === 'D' ? '고보습 토너' : m === 'B' ? '밸런싱 토너' : '피지 조절 토너'}`,
            `${s === 'S' ? '진정 에센스' : '활력 에센스'}`,
            `${t === 'T' ? '트러블 케어 세럼' : '영양 공급 세럼'}`
          ],
          amRoutine: [
            `${m === 'D' ? '부드러운 크림 타입 클렌저로 세안' : m === 'B' ? '젤 타입 클렌저로 세안' : '포밍 클렌저로 세안'}`,
            `${s === 'S' ? '저자극 토너 사용' : '밸런싱 토너 사용'}`,
            `수분 에센스 사용`,
            `${m === 'D' ? '보습 크림 사용' : m === 'B' ? '밸런싱 크림 사용' : '오일프리 수분 크림 사용'}`,
            `자외선 차단제 사용`
          ],
          pmRoutine: [
            `${m === 'D' ? '오일 클렌저로 메이크업 제거' : '더블 클렌징으로 메이크업 제거'}`,
            `${s === 'S' ? '저자극 토너 사용' : '피부결 정돈 토너 사용'}`,
            `${t === 'T' ? '트러블 케어 세럼 사용' : '영양 세럼 사용'}`,
            `${m === 'D' ? '영양 크림 사용' : m === 'B' ? '밸런싱 크림 사용' : '가벼운 수분 크림 사용'}`,
            `주 2-3회 ${m === 'D' ? '보습' : t === 'T' ? '진정' : '영양'} 마스크팩 사용`
          ],
          analysis: {
            hydration: m === 'D' ? '건조한 편으로 수분 공급이 필요함' : m === 'B' ? '적절한 수분 밸런스 유지' : '유분기가 많은 편',
            sensitivity: s === 'R' ? '외부 자극에 강한 편' : '자극에 민감하게 반응하는 편',
            trouble: t === 'C' ? '트러블이 거의 없는 깨끗한 피부' : '트러블이 자주 발생하는 편',
            tone: tone === 'M' ? '피부 톤이 다소 탁하거나 균일하지 않음' : '피부 톤이 밝고 투명한 편'
          }
        };
      }
      
      // 모든 가능한 피부 타입 생성
      function generateAllSkinTypes() {
        const moistureTypes = ['D', 'B', 'O']; // Dry, Balanced, Oily
        const sensitivityTypes = ['R', 'S']; // Resistant, Sensitive
        const troubleTypes = ['C', 'T']; // Clear, Trouble
        const toneTypes = ['M', 'T']; // Matte, Translucent
        
        moistureTypes.forEach(m => {
          sensitivityTypes.forEach(s => {
            troubleTypes.forEach(t => {
              toneTypes.forEach(tone => {
                const code = m + s + t + tone;
                if (!skinTypes[code]) {
                  skinTypes[code] = generateBasicSkinType(m, s, t, tone);
                }
              });
            });
          });
        });
      }
      
      // 모든 가능한 피부 타입 생성
      generateAllSkinTypes();
      
      // 결과 표시 함수
      function displayResults(code) {
        const skinType = skinTypes[code] || generateBasicSkinType(code[0], code[1], code[2], code[3]);
        
        // 뷰티 코드 표시
        document.getElementById('letter1').textContent = code[0];
        document.getElementById('letter2').textContent = code[1];
        document.getElementById('letter3').textContent = code[2];
        document.getElementById('letter4').textContent = code[3];
        
        // 피부 타입 이름 및 설명 표시
        document.getElementById('skinTypeName').textContent = skinType.name;
        document.getElementById('skinTypeDesc').textContent = skinType.description;
        
        // 분석 결과 표시
        document.getElementById('hydrationResult').textContent = skinType.analysis.hydration;
        document.getElementById('sensitivityResult').textContent = skinType.analysis.sensitivity;
        document.getElementById('troubleResult').textContent = skinType.analysis.trouble;
        document.getElementById('toneResult').textContent = skinType.analysis.tone;
        
        // 특징 목록 표시
        const featureList = document.getElementById('featureList');
        featureList.innerHTML = '';
        skinType.features.forEach(feature => {
          const li = document.createElement('li');
          li.textContent = feature;
          featureList.appendChild(li);
        });
        
        // AM 루틴 표시
        const amRoutine = document.getElementById('amRoutine');
        amRoutine.innerHTML = '';
        skinType.amRoutine.forEach(step => {
          const li = document.createElement('li');
          li.textContent = step;
          amRoutine.appendChild(li);
        });
        
        // PM 루틴 표시
        const pmRoutine = document.getElementById('pmRoutine');
        pmRoutine.innerHTML = '';
        skinType.pmRoutine.forEach(step => {
          const li = document.createElement('li');
          li.textContent = step;
          pmRoutine.appendChild(li);
        });
        
        // 제품 추천 표시
        const productList = document.getElementById('productList');
        productList.innerHTML = '';
        skinType.products.forEach(product => {
          const li = document.createElement('li');
          li.textContent = product;
          productList.appendChild(li);
        });
        
        // 설문 응답 표시
        document.getElementById('genderResult').textContent = getSelectedValue('gender', responseMap.gender);
        document.getElementById('ageResult').textContent = getSelectedValue('age', responseMap.age);
        document.getElementById('hydrationSurvey').textContent = getSelectedValue('hydration', responseMap.hydration);
        document.getElementById('tightnessSurvey').textContent = getSelectedValue('tightness', responseMap.tightness);
        document.getElementById('troubleSurvey').textContent = getSelectedValue('trouble', responseMap.trouble);
        document.getElementById('sensitivitySurvey').textContent = getSelectedValue('sensitivity', responseMap.sensitivity);
        document.getElementById('sebumSurvey').textContent = getSelectedValue('sebum', responseMap.sebum);
        document.getElementById('zoneSurvey').textContent = getSelectedValue('zone', responseMap.zone);
        document.getElementById('toneSurvey').textContent = getSelectedValue('tone', responseMap.tone);
        
        // 결과 섹션 표시
        surveyForm.style.display = 'none';
        results.style.display = 'block';
      }
      
      // 라디오 버튼 선택 값 가져오기
      function getSelectedValue(name, mapping) {
        const selected = document.querySelector(`input[name="${name}"]:checked`);
        return selected ? mapping[selected.value] : '-';
      }
      
      // 피부 코드 생성 함수
      function generateSkinCode() {
        // 필수 입력 확인
        const requiredInputs = ['gender', 'age', 'hydration', 'tightness', 'trouble', 'sensitivity', 'sebum', 'zone', 'tone'];
        for (const input of requiredInputs) {
          if (!document.querySelector(`input[name="${input}"]:checked`)) {
            alert(`${input} 항목을 선택해주세요.`);
            return null;
          }
        }
        
        // 폼 데이터 수집
        const hydrationValue = parseInt(document.querySelector('input[name="hydration"]:checked').value);
        const tightnessValue = parseInt(document.querySelector('input[name="tightness"]:checked').value);
        const troubleValue = parseInt(document.querySelector('input[name="trouble"]:checked').value);
        const sensitivityValue = parseInt(document.querySelector('input[name="sensitivity"]:checked').value);
        const sebumValue = parseInt(document.querySelector('input[name="sebum"]:checked').value);
        const zoneValue = parseInt(document.querySelector('input[name="zone"]:checked').value);
        const toneValue = parseInt(document.querySelector('input[name="tone"]:checked').value);
        
        // 수분 점수 계산
        const moistureScore = (hydrationValue + (6 - tightnessValue) + (6 - sebumValue) + (6 - zoneValue)) / 4;
        
        // 뷰티 코드 생성
        let code = '';
        
        // 첫 번째 자리: 수분 상태
        if (moistureScore <= 2.5) {
          code += 'D'; // Dry
        } else if (moistureScore <= 3.5) {
          code += 'B'; // Balanced
        } else {
          code += 'O'; // Oily
        }
        
        // 두 번째 자리: 민감도
        if (sensitivityValue <= 2.5) {
          code += 'R'; // Resistant
        } else {
          code += 'S'; // Sensitive
        }
        
        // 세 번째 자리: 트러블 빈도
        if (troubleValue <= 2.5) {
          code += 'C'; // Clear
        } else {
          code += 'T'; // Trouble
        }
        
        // 네 번째 자리: 피부 톤/혈색
        if (toneValue <= 2.5) {
          code += 'M'; // Matte
        } else {
          code += 'T'; // Translucent
        }
        
        return code;
      }
      
      // 결과 보기 버튼 클릭 이벤트
      submitBtn.addEventListener('click', function() {
        const skinCode = generateSkinCode();
        if (skinCode) {
          displayResults(skinCode);
          // URL에 코드 추가
          const url = new URL(window.location);
          url.searchParams.set('code', skinCode);
          window.history.replaceState({}, '', url);
        }
      });
      
      // 인쇄 버튼 클릭 이벤트
      printBtn.addEventListener('click', function() {
        window.print();
      });
      
      // 재시작 버튼 클릭 이벤트
      resetBtn.addEventListener('click', function() {
        // 모든 라디오 버튼 선택 해제
        document.querySelectorAll('input[type="radio"]').forEach(input => {
          input.checked = false;
        });
        
        // 결과 숨기고 설문 표시
        results.style.display = 'none';
        surveyForm.style.display = 'block';
        
        // URL에서 코드 파라미터 제거
        const url = new URL(window.location);
        url.searchParams.delete('code');
        window.history.replaceState({}, '', url);
      });
      
      // URL 파라미터 확인
      function checkUrlParam() {
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code');
        
        if (code && code.length === 4) {
          const validFirstChars = ['D', 'B', 'O'];
          const validSecondChars = ['R', 'S'];
          const validThirdChars = ['C', 'T'];
          const validFourthChars = ['M', 'T'];
          
          if (
            validFirstChars.includes(code[0]) &&
            validSecondChars.includes(code[1]) &&
            validThirdChars.includes(code[2]) &&
            validFourthChars.includes(code[3])
          ) {
            displayResults(code);
          }
        }
      }
      
      // 페이지 로드 시 URL 파라미터 확인
      checkUrlParam();
    });
  </script>
</body>
</html>